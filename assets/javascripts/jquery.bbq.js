/*!
 * jQuery BBQ: Back Button & Query Library - v1.2.1 - 2/17/2010
 * http://benalman.com/projects/jquery-bbq-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
// Copyright (c) 2010 "Cowboy" Ben Alman,
!function(e,t){"$:nomunge";function r(e){return"string"==typeof e}function n(e){var t=m.call(arguments,1);return function(){return e.apply(this,t.concat(m.call(arguments)))}}function a(e){return e.replace(/^[^#]*#?(.*)$/,"$1")}function o(e){return e.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function i(n,a,o,i,u){var s,l,f,d,_;return i!==c?(f=o.match(n?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/),_=f[3]||"",2===u&&r(i)?l=i.replace(n?N:P,""):(d=g(f[2]),i=r(i)?g[n?T:b](i):i,l=2===u?i:1===u?e.extend({},i,d):e.extend({},d,i),l=S(l),n&&(l=l.replace(p,j))),s=f[1]+(n?"#":l||!f[1]?"?":"")+l+_):s=a(o!==c?o:t[L][O]),s}function u(e,t,n){return t===c||"boolean"==typeof t?(n=t,t=S[e?T:b]()):t=r(t)?t.replace(e?N:P,""):t,g(t,n)}function s(t,n,a,o){return r(a)||"object"==typeof a||(o=a,a=n,n=c),this.each(function(){var r=e(this),i=n||h()[(this.nodeName||"").toLowerCase()]||"",u=i&&r.attr(i)||"";r.attr(i,S[t](u,a,o))})}var c,l,g,f,d,_,h,p,m=Array.prototype.slice,j=decodeURIComponent,S=e.param,w=e.bbq=e.bbq||{},v=e.event.special,y="hashchange",b="querystring",T="fragment",C="elemUrlAttr",L="location",O="href",A="src",P=/^.*\?|#.*$/g,N=/^.*\#/,D={};S[b]=n(i,0,o),S[T]=l=n(i,1,a),l.noEscape=function(t){t=t||"";var r=e.map(t.split(""),encodeURIComponent);p=new RegExp(r.join("|"),"g")},l.noEscape(",/"),e.deparam=g=function(t,r){var n={},a={"true":!0,"false":!1,"null":null};return e.each(t.replace(/\+/g," ").split("&"),function(t,o){var i,u=o.split("="),s=j(u[0]),l=n,g=0,f=s.split("]["),d=f.length-1;if(/\[/.test(f[0])&&/\]$/.test(f[d])?(f[d]=f[d].replace(/\]$/,""),f=f.shift().split("[").concat(f),d=f.length-1):d=0,2===u.length)if(i=j(u[1]),r&&(i=i&&!isNaN(i)?+i:"undefined"===i?c:a[i]!==c?a[i]:i),d)for(;d>=g;g++)s=""===f[g]?l.length:f[g],l=l[s]=d>g?l[s]||(f[g+1]&&isNaN(f[g+1])?{}:[]):i;else e.isArray(n[s])?n[s].push(i):n[s]=n[s]!==c?[n[s],i]:i;else s&&(n[s]=r?c:"")}),n},g[b]=n(u,0),g[T]=f=n(u,1),e[C]||(e[C]=function(t){return e.extend(D,t)})({a:O,base:O,iframe:A,img:A,input:A,form:"action",link:O,script:A}),h=e[C],e.fn[b]=n(s,b),e.fn[T]=n(s,T),w.pushState=d=function(e,n){r(e)&&/^#/.test(e)&&n===c&&(n=2);var a=e!==c,o=l(t[L][O],a?e:{},a?n:2);t[L][O]=o+(/#/.test(o)?"":"#")},w.getState=_=function(e,t){return e===c||"boolean"==typeof e?f(e):f(t)[e]},w.removeState=function(t){var r={};t!==c&&(r=_(),e.each(e.isArray(t)?t:arguments,function(e,t){delete r[t]})),d(r,2)},v[y]=e.extend(v[y],{add:function(t){function r(e){var t=e[T]=l();e.getState=function(e,r){return e===c||"boolean"==typeof e?g(t,e):g(t,r)[e]},n.apply(this,arguments)}var n;return e.isFunction(t)?(n=t,r):(n=t.handler,void(t.handler=r))}})}(jQuery,this),/*!
 * jQuery hashchange event - v1.2 - 2/11/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
// Copyright (c) 2010 "Cowboy" Ben Alman,
function(e,t){"$:nomunge";function r(e){return e=e||t[o][u],e.replace(/^[^#]*#?(.*)$/,"$1")}var n,a=e.event.special,o="location",i="hashchange",u="href",s=(e.browser,document.documentMode,!1);supports_onhashchange="on"+i in t&&!s,e[i+"Delay"]=100,a[i]=e.extend(a[i],{setup:function(){return supports_onhashchange?!1:void e(n.start)},teardown:function(){return supports_onhashchange?!1:void e(n.stop)}}),n=function(){function n(){l=g=function(e){return e},s&&(c=e('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,g=function(){return r(c.document[o][u])},(l=function(e,t){if(e!==t){var r=c.document;r.open().close(),r[o].hash="#"+e}})(r()))}var a,c,l,g,f={};return f.start=function(){if(!a){var s=r();l||n(),function c(){var n=r(),f=g(s);n!==s?(l(s=n,f),e(t).trigger(i)):f!==s&&(t[o][u]=t[o][u].replace(/#.*/,"")+"#"+f),a=setTimeout(c,e[i+"Delay"])}()}},f.stop=function(){c||(a&&clearTimeout(a),a=0)},f}()}(jQuery,this);