/*!
 * jQuery BBQ: Back Button & Query Library - v1.2.1 - 2/17/2010
 * http://benalman.com/projects/jquery-bbq-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
// Copyright (c) 2010 "Cowboy" Ben Alman,
!function(e,a){"$:nomunge";function t(e){return"string"==typeof e}function n(e){var a=Y.call(arguments,1);return function(){return e.apply(this,a.concat(Y.call(arguments)))}}function r(e){return e.replace(/^[^#]*#?(.*)$/,"$1")}function s(e){return e.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function i(n,r,s,i,d){var _,m,l,c,M;return i!==o?(l=s.match(n?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/),M=l[3]||"",2===d&&t(i)?m=i.replace(n?H:v,""):(c=u(l[2]),i=t(i)?u[n?T:g](i):i,m=2===d?i:1===d?e.extend({},i,c):e.extend({},c,i),m=f(m),n&&(m=m.replace(L,y))),_=l[1]+(n?"#":m||!l[1]?"?":"")+m+M):_=r(s!==o?s:a[w][b]),_}function d(e,a,n){return a===o||"boolean"==typeof a?(n=a,a=f[e?T:g]()):a=t(a)?a.replace(e?H:v,""):a,u(a,n)}function _(a,n,r,s){return t(r)||"object"==typeof r||(s=r,r=n,n=o),this.each(function(){var t=e(this),i=n||h()[(this.nodeName||"").toLowerCase()]||"",d=i&&t.attr(i)||"";t.attr(i,f[a](d,r,s))})}var o,m,u,l,c,M,h,L,Y=Array.prototype.slice,y=decodeURIComponent,f=e.param,p=e.bbq=e.bbq||{},k=e.event.special,D="hashchange",g="querystring",T="fragment",A="elemUrlAttr",w="location",b="href",S="src",v=/^.*\?|#.*$/g,H=/^.*\#/,j={};f[g]=n(i,0,s),f[T]=m=n(i,1,r),m.noEscape=function(a){a=a||"";var t=e.map(a.split(""),encodeURIComponent);L=new RegExp(t.join("|"),"g")},m.noEscape(",/"),e.deparam=u=function(a,t){var n={},r={"true":!0,"false":!1,"null":null};return e.each(a.replace(/\+/g," ").split("&"),function(a,s){var i,d=s.split("="),_=y(d[0]),m=n,u=0,l=_.split("]["),c=l.length-1;if(/\[/.test(l[0])&&/\]$/.test(l[c])?(l[c]=l[c].replace(/\]$/,""),l=l.shift().split("[").concat(l),c=l.length-1):c=0,2===d.length)if(i=y(d[1]),t&&(i=i&&!isNaN(i)?+i:"undefined"===i?o:r[i]!==o?r[i]:i),c)for(;c>=u;u++)_=""===l[u]?m.length:l[u],m=m[_]=c>u?m[_]||(l[u+1]&&isNaN(l[u+1])?{}:[]):i;else e.isArray(n[_])?n[_].push(i):n[_]=n[_]!==o?[n[_],i]:i;else _&&(n[_]=t?o:"")}),n},u[g]=n(d,0),u[T]=l=n(d,1),e[A]||(e[A]=function(a){return e.extend(j,a)})({a:b,base:b,iframe:S,img:S,input:S,form:"action",link:b,script:S}),h=e[A],e.fn[g]=n(_,g),e.fn[T]=n(_,T),p.pushState=c=function(e,n){t(e)&&/^#/.test(e)&&n===o&&(n=2);var r=e!==o,s=m(a[w][b],r?e:{},r?n:2);a[w][b]=s+(/#/.test(s)?"":"#")},p.getState=M=function(e,a){return e===o||"boolean"==typeof e?l(e):l(a)[e]},p.removeState=function(a){var t={};a!==o&&(t=M(),e.each(e.isArray(a)?a:arguments,function(e,a){delete t[a]})),c(t,2)},k[D]=e.extend(k[D],{add:function(a){function t(e){var a=e[T]=m();e.getState=function(e,t){return e===o||"boolean"==typeof e?u(a,e):u(a,t)[e]},n.apply(this,arguments)}var n;return e.isFunction(a)?(n=a,t):(n=a.handler,void(a.handler=t))}})}(jQuery,this),/*!
 * jQuery hashchange event - v1.2 - 2/11/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
// Copyright (c) 2010 "Cowboy" Ben Alman,
function(e,a){"$:nomunge";function t(e){return e=e||a[s][d],e.replace(/^[^#]*#?(.*)$/,"$1")}var n,r=e.event.special,s="location",i="hashchange",d="href",_=(e.browser,document.documentMode,!1);supports_onhashchange="on"+i in a&&!_,e[i+"Delay"]=100,r[i]=e.extend(r[i],{setup:function(){return supports_onhashchange?!1:void e(n.start)},teardown:function(){return supports_onhashchange?!1:void e(n.stop)}}),n=function(){function n(){m=u=function(e){return e},_&&(o=e('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,u=function(){return t(o.document[s][d])},(m=function(e,a){if(e!==a){var t=o.document;t.open().close(),t[s].hash="#"+e}})(t()))}var r,o,m,u,l={};return l.start=function(){if(!r){var _=t();m||n(),function o(){var n=t(),l=u(_);n!==_?(m(_=n,l),e(a).trigger(i)):l!==_&&(a[s][d]=a[s][d].replace(/#.*/,"")+"#"+l),r=setTimeout(o,e[i+"Delay"])}()}},l.stop=function(){o||(r&&clearTimeout(r),r=0)},l}()}(jQuery,this);